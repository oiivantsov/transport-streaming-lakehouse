{
  "id": null,
  "uid": "hsl-rt-dashboard",
  "title": "HSL Real-Time Metrics",
  "tags": ["prometheus", "spark", "hsl"],
  "timezone": "browser",
  "schemaVersion": 38,
  "version": 3,
  "refresh": "10s",
  "panels": [
    {
      "type": "timeseries",
      "title": "Total Active Vehicles",
      "datasource": { "type": "prometheus", "uid": "prometheus-ds" },
      "targets": [
        { "expr": "total_active_vehicles", "legendFormat": "Total", "refId": "A" }
      ],
      "fieldConfig": { "defaults": { "unit": "short", "decimals": 0, "custom": { "shortUnitDisplay": "none" } } },
      "gridPos": { "h": 8, "w": 8, "x": 0, "y": 0 }
    },
    {
      "type": "timeseries",
      "title": "Average Speed (All Vehicles)",
      "datasource": { "type": "prometheus", "uid": "prometheus-ds" },
      "targets": [
        { "expr": "avg_speed_all", "legendFormat": "Avg Speed", "refId": "B" }
      ],
      "fieldConfig": { "defaults": { "unit": "km/h", "decimals": 1 } },
      "gridPos": { "h": 8, "w": 8, "x": 8, "y": 0 }
    },
    {
      "type": "timeseries",
      "title": "Percentage of Routes On Time",
      "datasource": { "type": "prometheus", "uid": "prometheus-ds" },
      "targets": [
        { "expr": "pct_routes_on_time", "legendFormat": "On-Time %", "refId": "C" }
      ],
      "fieldConfig": { "defaults": { "unit": "percentunit", "decimals": 2 } },
      "gridPos": { "h": 8, "w": 8, "x": 16, "y": 0 }
    }
  ]
}
